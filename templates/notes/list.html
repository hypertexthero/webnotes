{% extends 'base.html' %}

{% block content %}
    {% if note_list %}
    {% for note in note_list %}
        {# https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs#ifchanged #}
        {% ifchanged %}
            <h2 class="dateline">{{ note.modified|date:"d F Y" }}</h3>
        {% endifchanged %}
        <dl>
            <dt>

                <a href="{% url notes_detail note.id %}">{{ note.title }}</a> <span class="small quiet">last edited {{note.modified|timesince}} ago</span>
                {% if user.is_authenticated %} 
                    · <span class="small"><a href="{% url notes_update note.id %}">edit</a> · <a href="{% url notes_delete note.id %}">delete</a></span>
                {% endif %}
        
            </dt>
            {# <dd>{{ note.content_html|truncatewords_html:10|safe }}</dd> #}
        </dl>
    {% endfor %}

    {% else %}
        You don't have any notes.
    {% endif %}
    
    {# http://www.djangrrl.com/post/custom-template-tags-in-django/ #}
    <h4>Last Updated Note:</h4>
    {% load tags %}
    {% latestnote %}
       
    
    {# <p>Template Tag Example: Last Updated Note:</p> #}
    {# <ul> #}
    {#     {% load tags %} #}
    {#     {% last_updated_note %}     #}
    {# </ul> #}
    
    
{% endblock %}